# pyTMD_turbo Examples

This directory contains example scripts and visualizations demonstrating pyTMD_turbo functionality.

## Visualizations (HTML)

### `benchmark_report.html`

Interactive benchmark comparison between pyTMD and pyTMD_turbo.

- 4 test configurations: pyTMD (with load), pyTMD (preloaded), turbo (with load), turbo (preloaded)
- Fair comparison with model preloading
- Performance: 5-80x faster in pure computation (preloaded vs preloaded)
- Generated by `run_benchmark.py`

### `set_comparison.html`

Interactive comparison of Solid Earth Tide (SET) calculations between pyTMD and pyTMD_turbo.

- Shows correlation > 0.99 between implementations
- Demonstrates ~100x speedup while maintaining accuracy
- Generated by `set_comparison.py`

### `phase_visualization.html`

Tidal phase visualization with multiple ocean tide models and SET.

- Ocean tide: GOT5.5, GOT5.6 (short-period), RE14 (long-period)
- Solid Earth Tide displacement
- Phase=0 vertical lines with toggle buttons for each constituent
- Generated by `phase_visualization.py`

## Scripts

### `run_benchmark.py`

Generates comprehensive benchmark comparison between pyTMD and pyTMD_turbo.

```bash
PYTMD_RESOURCE=/path/to/models python examples/run_benchmark.py
```

Key features:

- pyTMD preloading support for fair comparison
- 4 test methods: pyTMD (with load), pyTMD (preloaded), turbo (with load), turbo (preloaded)
- Small/Medium/Large test sizes
- HTML report with Plotly charts

Typical results (preloaded vs preloaded - fair comparison):

| Size                   | pyTMD (preloaded) | turbo (preloaded) | Speedup  |
| ---------------------- | ----------------- | ----------------- | -------- |
| Small (240 calcs)      | 450 ms            | 5 ms              | **83x**  |
| Medium (16,800 calcs)  | 471 ms            | 66 ms             | **7x**   |
| Large (720,000 calcs)  | 6,057 ms          | 1,297 ms          | **5x**   |

### `set_comparison.py`

Generates comparison between pyTMD and pyTMD_turbo SET calculations.

```bash
python examples/set_comparison.py
```

Key findings:

- Up (radial) correlation: > 0.996
- RMS difference: < 12 mm
- Speedup: ~100x

### `phase_visualization.py`

Generates comprehensive tidal phase visualization.

```bash
PYTMD_RESOURCE=/path/to/models python examples/phase_visualization.py
```

Features:

- Multiple ocean tide models (GOT5.5, GOT5.6)
- Long-period tides (RE14)
- Solid Earth Tide (SET)
- Phase=0 crossing lines with clickable toggle buttons
- Fitted constituent tables

### `phase_benchmark.py`

Performance benchmark for phase calculation module.

### `numba_benchmark.py`

Comparison between NumPy and Numba implementations.

### `phase_solution_test.py`

Development/testing script for phase calculation optimization.

## Requirements

- pyTMD_turbo
- pyTMD (for comparison scripts)
- numpy
- Model data files (see PYTMD_RESOURCE environment variable)

## Environment Variables

| Variable         | Description                       |
| ---------------- | --------------------------------- |
| `PYTMD_RESOURCE` | Path to tide model data directory |
